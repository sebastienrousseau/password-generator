<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: onboarding.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: onboarding.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// Copyright Â© 2022-2024 Password Generator. All rights reserved.
// SPDX-License-Identifier: Apache-2.0 OR MIT

import readline, { emitKeypressEvents, createInterface } from "readline";
import {
  getPresetConfig,
  PRESET_PROFILES,
  VALIDATION_BOUNDS
} from "./config.js";
import { CommandLearningPresenter } from "./presenters/CommandLearningPresenter.js";

/**
 * Displays progress indicator in â—â—‹â—‹â—‹ (1/4) format
 * @param {number} current - Current step (1-based)
 * @param {number} total - Total steps
 * @returns {string} Formatted progress string
 */
/* c8 ignore start - Interactive TUI helper function */
const displayProgress = (current, total) => {
  const filled = "â—".repeat(current);
  const empty = "â—‹".repeat(total - current);
  return `${filled}${empty} (${current}/${total})`;
};
/* c8 ignore stop */

/**
 * Creates a readline interface for user input.
 * @returns {readline.Interface} The readline interface
 * @throws {Error} If not running in a TTY environment
 */
/* c8 ignore start - Interactive TUI requires TTY */
const createReadlineInterface = () => {
  // TTY safety check - prevent onboarding in non-interactive environments
  if (!process.stdin.isTTY) {
    console.error("Interactive mode requires a terminal (TTY). Please run this in a terminal.");
    console.error("For non-interactive usage, use: password-generator -p quick");
    process.exit(1);
  }

  const rl = readline.createInterface({
    input: process.stdin,
    output: process.stdout
  });

  // Enable keypress events
  emitKeypressEvents(process.stdin);

  return rl;
};
/* c8 ignore stop */

/**
 * Enhanced prompt with keyboard navigation support
 * @param {string} question - The question to ask
 * @param {string[]} options - Available options
 * @param {readline.Interface} rl - The readline interface
 * @param {number} step - Current step number
 * @param {number} totalSteps - Total number of steps
 * @param {Object} examples - Optional examples to show with Space
 * @returns {Promise&lt;string>} Selected option
 */
/* c8 ignore start - Interactive TUI requires TTY and user input */
const promptWithNavigation = (question, options, rl, step, totalSteps, examples = {}) => {
  return new Promise((resolve) => {
    let selectedIndex = 0;
    let showingExamples = false;

    const renderMenu = () => {
      console.clear();
      console.log(`\n${displayProgress(step, totalSteps)}\n`);
      console.log(question);
      console.log("â”€".repeat(40));

      if (showingExamples &amp;&amp; examples[options[selectedIndex]]) {
        console.log(`\nðŸ’¡ Example for ${options[selectedIndex]}:`);
        console.log(examples[options[selectedIndex]]);
        console.log("\nðŸ“ Press Space again to hide examples\n");
      }

      options.forEach((option, index) => {
        const prefix = index === selectedIndex ? "â–¶ " : "  ";
        const number = index + 1;
        console.log(`${prefix}${number}. ${option}`);
      });

      console.log("\nðŸ”§ Controls:");
      console.log("â€¢ Arrow Keys: Navigate  â€¢ Enter: Select  â€¢ Esc: Go back");
      console.log("â€¢ 1-9: Quick select     â€¢ Space: Show/hide examples\n");
    };

    const handleKeypress = (str, key) => {
      if (!key) {return;}

      switch (key.name) {
        case "up":
          selectedIndex = selectedIndex > 0 ? selectedIndex - 1 : options.length - 1;
          renderMenu();
          break;
        case "down":
          selectedIndex = selectedIndex &lt; options.length - 1 ? selectedIndex + 1 : 0;
          renderMenu();
          break;
        case "return":
          process.stdin.removeListener("keypress", handleKeypress);
          if (process.stdin.isTTY) {
            process.stdin.setRawMode(false);
          }
          console.log(`\nâœ… Selected: ${options[selectedIndex]}\n`);
          resolve(options[selectedIndex]);
          break;
        case "escape":
          process.stdin.removeListener("keypress", handleKeypress);
          if (process.stdin.isTTY) {
            process.stdin.setRawMode(false);
          }
          console.log("\nâ¬…ï¸  Going back...\n");
          resolve("__BACK__");
          break;
        case "space":
          showingExamples = !showingExamples;
          renderMenu();
          break;
        default:
          // Handle number keys (1-9)
          if (str &amp;&amp; /^[1-9]$/.test(str)) {
            const index = parseInt(str) - 1;
            if (index &lt; options.length) {
              selectedIndex = index;
              process.stdin.removeListener("keypress", handleKeypress);
              if (process.stdin.isTTY) {
                process.stdin.setRawMode(false);
              }
              console.log(`\nâœ… Selected: ${options[selectedIndex]}\n`);
              resolve(options[selectedIndex]);
            }
          }
          break;
      }
    };

    process.stdin.on("keypress", handleKeypress);
    renderMenu();
  });
};
/* c8 ignore stop */

/**
 * Prompts user with a question and returns their answer.
 * @param {string} question - The question to ask
 * @param {readline.Interface} rl - The readline interface
 * @returns {Promise&lt;string>} The user's answer
 */
/* c8 ignore start - Interactive TUI requires TTY */
const askQuestion = (question, rl) => {
  return new Promise((resolve) => {
    rl.question(question, (answer) => {
      resolve(answer.trim());
    });
  });
};
/* c8 ignore stop */

/**
 * Displays a welcome message and intro to the password generator.
 */
/* c8 ignore start - Interactive TUI display function */
const displayWelcome = () => {
  console.log("ðŸ” Welcome to Password Generator!");
  console.log("=====================================");
  console.log("Let's set up your password preferences through a quick 4-step process.\n");
};
/* c8 ignore stop */

/**
 * Step 1: Password type selection with enhanced navigation
 * @param {readline.Interface} rl - The readline interface
 * @returns {Promise&lt;string>} The selected password type
 */
/* c8 ignore start - Interactive TUI requires TTY and user input */
const selectPasswordType = async(rl) => {
  const options = [
    "ðŸ” strong - Maximum security for important accounts",
    "ðŸ§  memorable - Easy to remember for daily use",
    "âš™ï¸ base64 - For API keys and system integration"
  ];

  const examples = {
    "ðŸ” strong - Maximum security for important accounts":
      "Example: K9#mL$8vR2@qN7!pX4^wB6&amp;zD3*hF5+jG1%cV9~sA8",
    "ðŸ§  memorable - Easy to remember for daily use":
      "Example: Rainbow-Mountain-7-Coffee or Sunset_Ocean_42_Music",
    "âš™ï¸ base64 - For API keys and system integration":
      "Example: Q29kZXIyMDI0IQ or TXlBcGlLZXkxMjM="
  };

  const result = await promptWithNavigation(
    "ðŸ“‹ Choose your password type:",
    options,
    rl,
    1,
    4,
    examples
  );

  if (result === "__BACK__") {
    console.log("âŒ Cannot go back from first step.");
    return await selectPasswordType(rl);
  }

  // Map display option back to type
  if (result.includes("strong")) {return "strong";}
  if (result.includes("memorable")) {return "memorable";}
  if (result.includes("base64")) {return "base64";}

  return "strong"; // fallback
};
/* c8 ignore stop */

/**
 * Handles custom configuration for advanced users.
 * @param {readline.Interface} rl - The readline interface
 * @param {string} passwordType - The selected password type
 * @returns {Promise&lt;Object>} Custom configuration object
 */
/* c8 ignore start - Interactive TUI requires TTY and user input */
const customConfiguration = async(rl, passwordType) => {
  console.log("\nâš™ï¸  Custom Configuration");
  console.log("â”€".repeat(25));

  const config = { type: passwordType };

  // Use centralized validation bounds from config
  const { minLength, maxLength, minIteration, maxIteration, minWords, maxWords } = VALIDATION_BOUNDS;

  if (passwordType !== "memorable") {
    while (true) {
      const lengthAnswer = await askQuestion(`Password chunk length (${minLength}-${maxLength}): `, rl);
      const length = parseInt(lengthAnswer);
      if (length >= minLength &amp;&amp; length &lt;= maxLength) {
        config.length = length;
        break;
      }
      console.log(`âŒ Please enter a number between ${minLength} and ${maxLength}.\n`);
    }
  }

  while (true) {
    const isMemorableType = passwordType === "memorable";
    const minVal = isMemorableType ? minWords : minIteration;
    const maxVal = isMemorableType ? maxWords : maxIteration;
    const label = isMemorableType ? "words" : "chunks";

    const iterationAnswer = await askQuestion(
      `Number of ${label} (${minVal}-${maxVal}): `,
      rl
    );
    const iteration = parseInt(iterationAnswer);
    if (iteration >= minVal &amp;&amp; iteration &lt;= maxVal) {
      config.iteration = iteration;
      break;
    }
    console.log(`âŒ Please enter a number between ${minVal} and ${maxVal}.\n`);
  }

  const separatorAnswer = await askQuestion(
    "Separator character (-, _, space, or none): ", rl
  );
  config.separator = separatorAnswer === "none" ? "" :
    separatorAnswer === "space" ? " " :
      separatorAnswer || "-";

  return config;
};
/* c8 ignore stop */

/**
 * Step 2: Security level selection with enhanced navigation
 * @param {readline.Interface} rl - The readline interface
 * @param {string} passwordType - The selected password type
 * @returns {Promise&lt;Object>} The preset configuration or custom flag
 */
/* c8 ignore start - Interactive TUI requires TTY and user input */
const selectSecurityLevel = async(rl, passwordType) => {
  const options = [
    "âš¡ quick - Fast setup for everyday accounts",
    "ðŸ”’ secure - Maximum protection for important accounts",
    "ðŸ’­ memorable - Human-friendly for frequent typing",
    "âš™ï¸ custom - Fine-tune your preferences"
  ];

  const examples = {
    "âš¡ quick - Fast setup for everyday accounts":
      "Generates 16-character passwords quickly. Good for low-risk accounts.",
    "ðŸ”’ secure - Maximum protection for important accounts":
      "Uses maximum length and complexity. Best for banking and critical accounts.",
    "ðŸ’­ memorable - Human-friendly for frequent typing":
      "Creates readable word combinations. Easier to type on mobile devices.",
    "âš™ï¸ custom - Fine-tune your preferences":
      "Lets you customize length, iterations, separators, and all options."
  };

  const result = await promptWithNavigation(
    "ðŸ›¡ï¸ Choose your security level:",
    options,
    rl,
    2,
    4,
    examples
  );

  if (result === "__BACK__") {
    return await selectPasswordType(rl);
  }

  // Map display option back to preset
  if (result.includes("quick")) {
    return { preset: "quick", config: getPresetConfig("quick") };
  } else if (result.includes("secure")) {
    return { preset: "secure", config: getPresetConfig("secure") };
  } else if (result.includes("memorable")) {
    return { preset: "memorable", config: getPresetConfig("memorable") };
  } else if (result.includes("custom")) {
    return { preset: null, config: await customConfiguration(rl, passwordType) };
  }

  return { preset: "quick", config: getPresetConfig("quick") }; // fallback
};
/* c8 ignore stop */

/**
 * Step 3: Clipboard option with enhanced navigation
 * @param {readline.Interface} rl - The readline interface
 * @returns {Promise&lt;boolean>} Whether to copy to clipboard
 */
/* c8 ignore start - Interactive TUI requires TTY and user input */
const selectClipboardOption = async(rl) => {
  const options = [
    "âœ… Yes - Copy to clipboard automatically",
    "âŒ No - Display password only"
  ];

  const examples = {
    "âœ… Yes - Copy to clipboard automatically":
      "âš ï¸ SECURITY NOTE: Password will be copied to your clipboard. Be aware that clipboard managers and some applications may store clipboard history, potentially exposing your password. Clear your clipboard after use.",
    "âŒ No - Display password only":
      "Password will only be shown in the terminal. More secure - no clipboard traces. Recommended for high-security accounts."
  };

  const result = await promptWithNavigation(
    "ðŸ“‹ Clipboard settings:",
    options,
    rl,
    3,
    4,
    examples
  );

  if (result === "__BACK__") {
    return await selectSecurityLevel(rl);
  }

  return result.includes("Yes");
};
/* c8 ignore stop */

/**
 * Step 4: Display results and security information
 * @param {Object} config - The final configuration
 * @param {boolean} clipboard - Whether clipboard is enabled
 * @param {string|null} preset - The preset name if used
 */
/* c8 ignore start - Interactive TUI display function */
const displayResults = (config, clipboard, preset) => {
  console.clear();
  console.log(`\n${displayProgress(4, 4)}\n`);
  console.log("âœ… Configuration Summary");
  console.log("â”€".repeat(40));
  console.log(`Password Type: ${config.type}`);
  if (config.length) {
    console.log(`Chunk Length: ${config.length}`);
  }
  console.log(`${config.type === "memorable" ? "Words" : "Chunks"}: ${config.iteration}`);
  console.log(`Separator: "${config.separator || "(none)"}"`);
  console.log(`Clipboard: ${clipboard ? "Enabled" : "Disabled"}`);
  if (preset) {
    console.log(`Preset Used: ${preset}`);
  }

  console.log("\nðŸ”’ Security Information:");
  console.log("â”€".repeat(25));

  if (config.type === "strong") {
    const entropy = Math.log2(64) * config.length * config.iteration;
    console.log(`â€¢ Estimated entropy: ~${Math.round(entropy)} bits`);
    console.log("â€¢ Uses cryptographically secure random generation");
    console.log("â€¢ Includes uppercase, lowercase, numbers, and symbols");
  } else if (config.type === "memorable") {
    console.log("â€¢ Human-readable word combinations");
    console.log("â€¢ Easier to remember and type");
    console.log("â€¢ Good for accounts requiring frequent manual entry");
  } else if (config.type === "base64") {
    const entropy = Math.log2(64) * config.length * config.iteration;
    console.log(`â€¢ Estimated entropy: ~${Math.round(entropy)} bits`);
    console.log("â€¢ Base64 encoded for compatibility");
    console.log("â€¢ Safe for URLs and most systems");
  }

  // Display command learning panel using the presenter
  CommandLearningPresenter.displayFullCommandLearning(config, clipboard, preset);
};
/* c8 ignore stop */

/**
 * Main onboarding flow function
 * @returns {Promise&lt;Object>} Configuration object with clipboard setting
 */
/* c8 ignore start - Interactive TUI requires TTY and user input */
export const runOnboarding = async() => {
  const rl = createReadlineInterface();

  try {
    displayWelcome();

    // Step 1: Password type selection
    const passwordType = await selectPasswordType(rl);

    // Step 2: Security level selection
    const { preset, config } = await selectSecurityLevel(rl, passwordType);

    // Step 3: Clipboard option
    const clipboard = await selectClipboardOption(rl);

    // Step 4: Display results
    displayResults(config, clipboard, preset);

    console.log("\n" + "=".repeat(50));
    console.log("ðŸŽ‰ Setup complete! Generating your password...\n");

    return {
      config,
      clipboard,
      preset
    };
  } finally {
    rl.close();
  }
};
/* c8 ignore stop */

/**
 * Check if this is likely a first run (no arguments provided except interactive flag)
 * @param {string[]} args - Command line arguments
 * @returns {boolean} Whether this appears to be a first run
 */
export const isFirstRun = (args) => {
  // Filter out the interactive flags
  const nonInteractiveArgs = args.filter(arg =>
    arg !== "--interactive" &amp;&amp; arg !== "password-generator"
  );

  // If no other arguments are provided, treat as first run
  return nonInteractiveArgs.length === 0;
};

/**
 * Interactive onboarding flow for password generator (Class-based API)
 * Provides backward compatibility with the CLI onboarding interface
 */
export class OnboardingFlow {
  constructor() {
    this.currentStep = 0;
    this.totalSteps = 4;
    this.selectedIndex = 0;
    this.config = {};
    this.rl = null;
    this.showingExamples = false;
  }

  /**
   * Initialize readline interface with keyboard handling
   */
  initReadline() {
    // Check if we're in a TTY environment
    if (!process.stdin.isTTY) {
      console.error("Interactive mode requires a terminal (TTY). Please run this in a terminal.");
      process.exit(1);
    }

    this.rl = createInterface({
      input: process.stdin,
      output: process.stdout,
      terminal: true
    });

    // Enable raw mode for key detection
    process.stdin.setRawMode(true);
    process.stdin.resume();

    // Handle keyboard input
    process.stdin.on("data", this.handleKeyPress.bind(this));
  }

  /**
   * Clean up readline interface
   */
  cleanup() {
    if (this.rl) {
      process.stdin.setRawMode(false);
      process.stdin.removeAllListeners("data");
      this.rl.close();
      this.rl = null;
    }
  }

  /**
   * Handle keyboard input
   */
  handleKeyPress(key) {
    const keyStr = key.toString();

    // ESC key (27)
    if (key[0] === 27) {
      if (this.showingExamples) {
        this.showingExamples = false;
        this.renderCurrentStep();
        return;
      }
      if (this.currentStep > 0) {
        this.currentStep--;
        this.selectedIndex = 0;
        this.renderCurrentStep();
      } else {
        this.exitOnboarding();
      }
      return;
    }

    // Enter key (13)
    if (key[0] === 13) {
      if (this.showingExamples) {
        this.showingExamples = false;
        this.renderCurrentStep();
        return;
      }
      this.confirmSelection();
      return;
    }

    // Space key (32)
    if (key[0] === 32) {
      this.showExamples();
      return;
    }

    // Arrow keys - Note: ESC sequences starting with 27 are handled above
    /* c8 ignore start - Arrow keys handled via navigateUp/navigateDown methods directly */
    if (key[0] === 27 &amp;&amp; key[1] === 91) {
      if (key[2] === 65) { // Up arrow
        this.navigateUp();
      } else if (key[2] === 66) { // Down arrow
        this.navigateDown();
      }
      return;
    }
    /* c8 ignore stop */

    // Number keys (1-3)
    const num = parseInt(keyStr);
    if (num >= 1 &amp;&amp; num &lt;= 3 &amp;&amp; !this.showingExamples) {
      const options = this.getCurrentOptions();
      if (num &lt;= options.length) {
        this.selectedIndex = num - 1;
        this.renderCurrentStep();
      }
    }

    // Ctrl+C
    if (key[0] === 3) {
      this.exitOnboarding();
    }
  }

  /**
   * Navigate up in the current options
   */
  navigateUp() {
    if (this.showingExamples) {return;}

    const options = this.getCurrentOptions();
    this.selectedIndex = this.selectedIndex > 0 ?
      this.selectedIndex - 1 :
      options.length - 1;
    this.renderCurrentStep();
  }

  /**
   * Navigate down in the current options
   */
  navigateDown() {
    if (this.showingExamples) {return;}

    const options = this.getCurrentOptions();
    this.selectedIndex = this.selectedIndex &lt; options.length - 1 ?
      this.selectedIndex + 1 :
      0;
    this.renderCurrentStep();
  }

  /**
   * Get options for the current step
   */
  getCurrentOptions() {
    switch (this.currentStep) {
      case 0:
        return ["Quick Setup (Recommended)", "Custom Configuration", "Learn More"];
      case 1:
        return ["Quick &amp; Simple", "Maximum Security", "Easy to Remember"];
      case 2:
        return ["3 segments", "4 segments", "5 segments"];
      case 3:
        return ["Hyphen (-)", "Underscore (_)", "No separator"];
      default:
        return [];
    }
  }

  /**
   * Confirm the current selection
   */
  confirmSelection() {
    switch (this.currentStep) {
      case 0:
        if (this.selectedIndex === 0) {
          // Quick setup - use secure preset
          this.config = { ...PRESET_PROFILES.secure };
          this.completeOnboarding();
        } else if (this.selectedIndex === 1) {
          // Custom configuration
          this.currentStep = 1;
          this.selectedIndex = 0;
        } else {
          // Learn more
          this.showLearnMore();
        }
        break;
      case 1:
        // Password type selection
        const typeMap = ["strong", "strong", "memorable"];
        this.config.type = typeMap[this.selectedIndex];
        this.currentStep = 2;
        this.selectedIndex = 0;
        break;
      case 2:
        // Iteration count
        this.config.iteration = 3 + this.selectedIndex;
        this.currentStep = 3;
        this.selectedIndex = 0;
        break;
      case 3:
        // Separator
        const separatorMap = ["-", "_", ""];
        this.config.separator = separatorMap[this.selectedIndex];
        // Set defaults based on type
        if (this.config.type === "strong" || this.config.type === "base64") {
          this.config.length = this.selectedIndex === 1 ? 16 : 12; // More secure if maximum security was chosen
        }
        this.completeOnboarding();
        break;
    }

    this.renderCurrentStep();
  }

  /**
   * Show examples for the current step
   */
  showExamples() {
    this.showingExamples = true;
    this.clearScreen();

    console.log("ðŸ“š Examples\n");

    switch (this.currentStep) {
      case 1:
        console.log("Strong Password Examples:");
        console.log("â€¢ Kx9#mP2$vL4@nR8!");
        console.log("â€¢ 7z$eQ1@pW9#xT3&amp;");
        console.log("");
        console.log("Memorable Password Examples:");
        console.log("â€¢ twilight-meadow-dancing-river");
        console.log("â€¢ cosmic-forest-gentle-breeze");
        break;
      case 2:
        console.log("Segment Examples:");
        console.log("3 segments: strong-pass-word");
        console.log("4 segments: very-strong-pass-word");
        console.log("5 segments: ultra-very-strong-pass-word");
        break;
      case 3:
        console.log("Separator Examples:");
        console.log("Hyphen: word-word-word");
        console.log("Underscore: word_word_word");
        console.log("None: wordwordword");
        break;
      default:
        console.log("No examples available for this step.");
    }

    console.log("\nPress SPACE or ENTER to go back");
  }

  /**
   * Show learn more information
   */
  showLearnMore() {
    this.clearScreen();
    console.log("ðŸ” About Password Security\n");
    console.log("Strong passwords are your first line of defense against cyber attacks.");
    console.log("This generator uses cryptographically secure random number generation");
    console.log("to create passwords that are both secure and practical.\n");
    console.log("Password Types:");
    console.log("â€¢ Strong: Random characters with high entropy");
    console.log("â€¢ Memorable: Readable words that are easier to remember");
    console.log("â€¢ Base64: Encoded random data for API keys and tokens\n");
    console.log("Press ENTER to continue with setup...");

    // Wait for enter key
    this.rl.once("line", () => {
      this.currentStep = 1;
      this.selectedIndex = 0;
      this.renderCurrentStep();
    });
  }

  /**
   * Complete the onboarding process
   */
  completeOnboarding() {
    this.clearScreen();
    console.log("âœ… Configuration Complete!\n");
    console.log("Your password settings:");
    console.log(`â€¢ Type: ${this.config.type}`);
    console.log(`â€¢ Segments: ${this.config.iteration}`);
    console.log(`â€¢ Separator: "${this.config.separator || "none"}"`);
    if (this.config.length) {
      console.log(`â€¢ Length: ${this.config.length} characters per segment`);
    }
    console.log("\nGenerating your password...\n");

    this.cleanup();

    // Return the configuration to the main program
    if (typeof this.onComplete === "function") {
      this.onComplete(this.config);
    }
  }

  /**
   * Exit the onboarding process
   */
  exitOnboarding() {
    this.clearScreen();
    console.log("ðŸ‘‹ Setup cancelled. You can still use the command line options:");
    console.log("  password-generator --help");
    this.cleanup();
    process.exit(0);
  }

  /**
   * Generate progress indicator
   */
  getProgressIndicator() {
    const indicators = [];
    for (let i = 0; i &lt; this.totalSteps; i++) {
      if (i &lt;= this.currentStep) {
        indicators.push("â—");
      } else {
        indicators.push("â—‹");
      }
    }
    return indicators.join("") + ` (${this.currentStep + 1}/${this.totalSteps})`;
  }

  /**
   * Clear the console screen
   */
  clearScreen() {
    console.clear();
  }

  /**
   * Render the current step
   */
  renderCurrentStep() {
    /* c8 ignore next - early return when showing examples */
    if (this.showingExamples) {return;}

    this.clearScreen();

    // Header
    console.log("ðŸ” Password Generator Setup");
    console.log("â•".repeat(50));
    console.log("");

    // Progress indicator
    console.log(`Progress: ${this.getProgressIndicator()}`);
    console.log("");

    // Step content
    const stepTitles = [
      "Welcome! How would you like to proceed?",
      "Choose your password style:",
      "How many segments do you want?",
      "Choose a separator between segments:"
    ];

    console.log(stepTitles[this.currentStep]);
    console.log("");

    // Options
    const options = this.getCurrentOptions();
    options.forEach((option, index) => {
      const prefix = this.selectedIndex === index ? "â†’" : " ";
      const number = index + 1;
      console.log(`${prefix} ${number}. ${option}`);
    });

    // Controls
    console.log("");
    console.log("Controls:");
    console.log("â€¢ â†‘â†“ or 1-3: Navigate");
    console.log("â€¢ ENTER: Select");
    console.log("â€¢ SPACE: Show examples");
    console.log("â€¢ ESC: Go back");
    console.log("â€¢ Ctrl+C: Exit");
  }

  /**
   * Start the onboarding flow
   */
  start(onCompleteCallback) {
    this.onComplete = onCompleteCallback;
    this.initReadline();
    this.renderCurrentStep();
  }
}

/**
 * Start the interactive onboarding flow
 * @param {Function} onComplete Callback function called when onboarding is complete
 */
export function startOnboarding(onComplete) {
  const flow = new OnboardingFlow();
  flow.start(onComplete);
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-config.html">config</a></li><li><a href="module-constants.html">constants</a></li><li><a href="module-errors.html">errors</a></li><li><a href="module-security-audit.html">security-audit</a></li><li><a href="module-services_audit-service.html">services/audit-service</a></li><li><a href="module-services_cli-service.html">services/cli-service</a></li><li><a href="module-services_config-service.html">services/config-service</a></li><li><a href="module-services_password-service.html">services/password-service</a></li><li><a href="module-strings.html">strings</a></li></ul><h3>Classes</h3><ul><li><a href="CLIController.html">CLIController</a></li><li><a href="CommandLearningPresenter.html">CommandLearningPresenter</a></li><li><a href="ConfigurationService.html">ConfigurationService</a></li><li><a href="OnboardingFlow.html">OnboardingFlow</a></li><li><a href="PasswordGeneratorFactory.html">PasswordGeneratorFactory</a></li><li><a href="PasswordGeneratorOrchestrator.html">PasswordGeneratorOrchestrator</a></li></ul><h3>Global</h3><ul><li><a href="global.html#PasswordGenerator">PasswordGenerator</a></li><li><a href="global.html#createCLIController">createCLIController</a></li><li><a href="global.html#dictionaryCache">dictionaryCache</a></li><li><a href="global.html#generate">generate</a></li><li><a href="global.html#generateBase64Chunk">generateBase64Chunk</a></li><li><a href="global.html#generatePassword">generatePassword</a></li><li><a href="global.html#generateRandomBase64">generateRandomBase64</a></li><li><a href="global.html#isFirstRun">isFirstRun</a></li><li><a href="global.html#loadDictionary">loadDictionary</a></li><li><a href="global.html#randomConsonant">randomConsonant</a></li><li><a href="global.html#randomNumber">randomNumber</a></li><li><a href="global.html#randomSyllable">randomSyllable</a></li><li><a href="global.html#randomVowel">randomVowel</a></li><li><a href="global.html#splitString">splitString</a></li><li><a href="global.html#startOnboarding">startOnboarding</a></li><li><a href="global.html#validatePositiveInteger">validatePositiveInteger</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.5</a> on Fri Feb 06 2026 23:45:51 GMT+0000 (Greenwich Mean Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
